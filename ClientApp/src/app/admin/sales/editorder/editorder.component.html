<h1 class="h3 mb-2 text-gray-800">Edit Order</h1>
<p class="mb-4"></p>

<form [formGroup]="orderForm" class="form">
    <div class="row">

        <div class="col-xl-12">
            <div class="card mb-4">
                <div class="card-header">Item Details</div>
                <div class="card-body">

                    <!-- <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputUsername">Sender Name</label>
                            <input type="text" class="form-control" id=senderName placeholder="" formControlName="senderName">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Sender Email</label>
                            <input type="text" class="form-control" id=senderEmail placeholder="" formControlName="senderEmail">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Sender Contact</label>
                            <input type="text" class="form-control" id=senderContact placeholder="" formControlName="senderContact">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Sender Address</label>
                            <input type="text" class="form-control" id=senderAddress placeholder="" formControlName="senderAddress">
                        </div>

                    </div> -->
                    <!-- <hr/> -->
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputUsername">Customer Name</label>
                            <input type="text" class="form-control" id=name placeholder="" formControlName="name">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Customer Email</label>
                            <input type="text" class="form-control" id=email placeholder="" formControlName="email">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Customer Contact</label>
                            <input type="text" class="form-control" id=mobile placeholder="" formControlName="mobile">
                        </div>
                        <div class="form-group col-md-6">
                            <label class="small mb-1" for="inputLastName">Customer Address</label>
                            <input type="text" class="form-control" id=address placeholder="" formControlName="address">
                        </div>

                    </div>
                    <hr/>
                    <!-- <div class="form-row">
                        <div class="form-group col-md-4">
                            <label class="small mb-1" for="inputLastName">Message for gift card</label>
                            <input type="text" class="form-control" id=cardNotes placeholder="" formControlName="cardNotes">
                        </div>
                        <div class="form-group col-md-4">
                            <label class="small mb-1" for="inputLastName">Delivery Date</label>
                            <ngbd-datepicker-popup></ngbd-datepicker-popup>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="small mb-1" for="inputLastName">Delivery Time</label>
                            <select id="DeliveryTime" formControlName="deliveryTime" class="custom-select" required>
                                <option value="">Choose Delivery Time...</option>
                                <option>12:01 pm to 03:00 pm</option>
                                <option>03:01 pm to 06:00 pm</option>
                                <option>06:01 pm to 09:00 pm</option>
                                <option>09:01 pm to 12:00 am</option>
                            </select>
                        </div>
                    </div> -->

                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label class="small mb-1" for="inputUsername">Item</label>
                            <ng-select [items]="ItemsList" bindLabel="name" bindValue="itemID" [multiple]="false" placeholder="" [ngModelOptions]="{standalone: true}" [(ngModel)]="odetail.itemID">
                                <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                    <div class="ng-value" *ngFor="let item of items">
                                        <span class="ng-value-label">{{item.name}}</span>
                                        <span class="ng-value-icon right" style="border-left: 1px solid #000;" (click)="clear(item)" aria-hidden="true">Ã—</span>
                                    </div>
                                </ng-template>
                            </ng-select>
                        </div>
                        <div class="form-group col-md-3">
                            <label class="small mb-1" for="inputLastName">Quantity</label>
                            <input type="number" class="form-control" id=quantity placeholder="" [(ngModel)]="odetail.quantity" [ngModelOptions]="{standalone: true}">
                        </div>
                        <!-- <div class="form-group col-md-3">
                            <label class="small mb-1" for="inputLastName">Price</label>
                            <input type="number" class="form-control" id=price placeholder="" [(ngModel)]="odetail.price" disabled="true" [ngModelOptions]="{standalone: true}">
                        </div> -->

                        <div class="form-group col-md-2">
                            <label class="small mb-1" for="inputLastName">Action</label>
                            <br/>
                            <button class="btn btn-primary" type="submit" (click)="AddChild(odetail)" [disabled]="odetail==null">Add</button>
                        </div>

                    </div>
                    <div class="tile-body p-0 table-responsive ">
                        <table class="table table-striped">
                            <thead>
                                <tr class="table-header">
                                    <th width="10%">Image </th>
                                    <th width="40%">Name </th>
                                    <th width="10%">Qty</th>
                                    <th width="10%">Price</th>
                                    <th width="10%">T.Price</th>
                                    <th width="10%">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of OrderDetailList">
                                    <td>
                                        <img style="width: 100% !important;" *ngIf="item.image !== ''" [src]="item.image" class="table-img" alt="" />
                                        <div *ngIf="item.image === ''" class="image-replace"></div>
                                    </td>
                                    <td>
                                        {{item.name}}
                                        <!-- <tr *ngFor="let item1 of item.orderDetailGifts ">
                                            <td class="badge badge-pill">GIFT: {{item1.title }} [ {{item1.price}} BD ] </td>

                                        </tr> -->
                                    </td>
                                    <td> {{item.quantity}} </td>
                                    <td> {{item.price/item.quantity}} </td>
                                    <td> {{item.price}} </td>
                                    <td>
                                        <i (click)="RemoveChild(item)" class="fas fa-fw fa-trash-alt "></i>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Save changes button-->


            </div>
            <button class="btn btn-primary " (click)="onSubmit()" type="submit ">Save changes</button>
        </div>
    </div>
</form>